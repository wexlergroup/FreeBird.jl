<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples ¬∑ FreeBird.jl</title><meta name="title" content="Examples ¬∑ FreeBird.jl"/><meta property="og:title" content="Examples ¬∑ FreeBird.jl"/><meta property="twitter:title" content="Examples ¬∑ FreeBird.jl"/><meta name="description" content="Documentation for FreeBird.jl."/><meta property="og:description" content="Documentation for FreeBird.jl."/><meta property="twitter:description" content="Documentation for FreeBird.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="FreeBird.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">FreeBird.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">FreeBird.jl</a></li><li><a class="tocitem" href="../tutorials/">Tutorials</a></li><li class="is-active"><a class="tocitem" href>Examples</a><ul class="internal"><li><a class="tocitem" href="#Atomistic-system"><span>Atomistic system</span></a></li><li><a class="tocitem" href="#Lattice-system"><span>Lattice system</span></a></li></ul></li><li><span class="tocitem">Modules and Documentation</span><ul><li><a class="tocitem" href="../AbstractLiveSets/"><code>AbstractLiveSets</code></a></li><li><a class="tocitem" href="../AbstractWalkers/"><code>AbstractWalkers</code></a></li><li><a class="tocitem" href="../SamplingSchemes/"><code>SamplingSchemes</code></a></li><li><a class="tocitem" href="../AbstractPotentials/"><code>AbstractPotentials</code></a></li><li><a class="tocitem" href="../AbstractHamiltonians/"><code>AbstractHamiltonians</code></a></li><li><a class="tocitem" href="../EnergyEval/"><code>EnergyEval</code></a></li><li><a class="tocitem" href="../MonteCarloMoves/"><code>MonteCarloMoves</code></a></li><li><a class="tocitem" href="../FreeBirdIO/"><code>FreeBirdIO</code></a></li><li><a class="tocitem" href="../AnalysisTools/"><code>AnalysisTools</code></a></li></ul></li><li><a class="tocitem" href="../API/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/wexlergroup/FreeBird.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/wexlergroup/FreeBird.jl/blob/main/scripts/examples.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="FreeBird.jl-Examples"><a class="docs-heading-anchor" href="#FreeBird.jl-Examples">FreeBird.jl Examples</a><a id="FreeBird.jl-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#FreeBird.jl-Examples" title="Permalink"></a></h1><p>Here we provide a few examples of how to use FreeBird.jl. We focus on how to set up a sampling run with various sampling schemes. You may need to fine-tune the parameters for your specific system.</p><h2 id="Atomistic-system"><a class="docs-heading-anchor" href="#Atomistic-system">Atomistic system</a><a id="Atomistic-system-1"></a><a class="docs-heading-anchor-permalink" href="#Atomistic-system" title="Permalink"></a></h2><p>Before we start, we need to load the FreeBird.jl package.</p><pre><code class="language-julia hljs">using FreeBird</code></pre><h3 id="Nested-Sampling"><a class="docs-heading-anchor" href="#Nested-Sampling">Nested Sampling</a><a id="Nested-Sampling-1"></a><a class="docs-heading-anchor-permalink" href="#Nested-Sampling" title="Permalink"></a></h3><p>First, let&#39;s generate some initial configurations</p><pre><code class="language-julia hljs">configs = generate_initial_configs(120, 562.5, 6)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">120-element Vector{AtomsBase.FastSystem{3, AtomsBase.PeriodicCell{3, Quantity{Float64, ùêã, Unitful.FreeUnits{(√Ö,), ùêã, nothing}}}, Quantity{Float64, ùêã, Unitful.FreeUnits{(√Ö,), ùêã, nothing}}, Quantity{Float64, ùêå, Unitful.FreeUnits{(u,), ùêå, nothing}}, AtomsBase.ChemicalSpecies}}:
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 ‚ãÆ
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)
 FastSystem(H‚ÇÜ, periodicity = FFF)</code></pre><p>Walkers are the objects that will be used in the simulation. They contain the information about the system&#39;s configuration. Let&#39;s warp the configurations into walkers.</p><pre><code class="language-julia hljs">walkers = AtomWalker.(generate_initial_configs(120, 562.5, 6))</code></pre><p>Let&#39;s define the Lennard-Jones potential</p><pre><code class="language-julia hljs">lj = LJParameters(epsilon=0.1, sigma=2.5, cutoff=4.0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">LJParameters(0.1 eV, 2.5 √Ö, 4.0, -9.763240814208984e-5 eV)</code></pre><p>We then create a <code>LJAtomWalkers</code> object that contains the walkers and the Lennard-Jones potential.</p><pre><code class="language-julia hljs">ls = LJAtomWalkers(walkers, lj)</code></pre><p>We then set up a <code>NestedSamplingParameters</code> object with the desired parameters. See the documentation for more information.</p><pre><code class="language-julia hljs">ns_params = NestedSamplingParameters(mc_steps=200, step_size=0.1, random_seed=1234*rand(Int))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">NestedSamplingParameters(200, 0.01, 0.1, 1.0e-6, 1.0, (0.25, 0.75), 0, 100, 1.0e-12, -3906287512919972764)</code></pre><p>We then set up how we want to perform the Monte Carlo moves. <code>MCRandomWalkClone</code> is a routine that clones an existing walker and performs random walks.</p><pre><code class="language-julia hljs">mc = MCRandomWalkClone()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MCRandomWalkClone([1, 2, 3])</code></pre><p>We also set up a <code>SaveEveryN</code> object for saving the output.</p><pre><code class="language-julia hljs">save = SaveEveryN(n_traj=10, n_snap=20_000, df_filename=&quot;output_df_lj6.csv&quot;, n_info=10)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SaveEveryN(&quot;output_df_lj6.csv&quot;, &quot;output.traj.extxyz&quot;, &quot;output.ls.extxyz&quot;, 10, 20000, 10)</code></pre><p>Finally, we run the nested sampling simulation.</p><pre><code class="language-julia hljs">energies, liveset, _ = nested_sampling(ls, ns_params, 1_000, mc, save)</code></pre><h3 id="Metropolis-Monte-Carlo"><a class="docs-heading-anchor" href="#Metropolis-Monte-Carlo">Metropolis Monte Carlo</a><a id="Metropolis-Monte-Carlo-1"></a><a class="docs-heading-anchor-permalink" href="#Metropolis-Monte-Carlo" title="Permalink"></a></h3><p>Similarly to nested sampling, we need to define some MC parameters. We will use the same Lennard-Jones potential and initial configurations.</p><p>Let&#39;s use a walker from the previous example as the initial configuration.</p><pre><code class="language-julia hljs">at = ls.walkers[1]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AtomWalker{1}(
    configuration      : FastSystem(H‚ÇÜ, periodicity = FFF)
    energy             : -0.02164674063753841 eV
    iter               : 0
    list_num_par       : [6]
    frozen             : Bool[0]
    energy_frozen_part : 0.0 eV)
</code></pre><p>Define the temperature grid, the number of equilibration steps, the number of sampling steps, and the step size.</p><pre><code class="language-julia hljs">temperatures = collect(1000.0:-50:0)
num_equilibration_steps = 100_000
num_sampling_steps = 100_000
step_size = 1.0</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1.0</code></pre><p>Pass the parameters to the <code>MetropolisMCParameters</code> object.</p><pre><code class="language-julia hljs">mc_params = MetropolisMCParameters(
    temperatures,
    equilibrium_steps=num_equilibration_steps,
    sampling_steps=num_sampling_steps,
    step_size=step_size,
    step_size_up=1.0,
    accept_range=(0.5,0.5)
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MetropolisMCParameters([1000.0, 950.0, 900.0, 850.0, 800.0, 750.0, 700.0, 650.0, 600.0, 550.0  ‚Ä¶  450.0, 400.0, 350.0, 300.0, 250.0, 200.0, 150.0, 100.0, 50.0, 0.0], 100000, 100000, 1.0, 0.001, 1.0, (0.5, 0.5), 1234)</code></pre><p>Run the Monte Carlo simulation.</p><pre><code class="language-julia hljs">mc_energies, mc_ls, mc_cvs, acceptance_rates = monte_carlo_sampling(at, lj, mc_params)</code></pre><h3 id="Wang-Landau-Sampling"><a class="docs-heading-anchor" href="#Wang-Landau-Sampling">Wang-Landau Sampling</a><a id="Wang-Landau-Sampling-1"></a><a class="docs-heading-anchor-permalink" href="#Wang-Landau-Sampling" title="Permalink"></a></h3><p>It&#39;s also very easy to set up a Wang-Landau simulation. We will use the same Lennard-Jones potential and initial configuration.</p><pre><code class="language-julia hljs">at = ls.walkers[1]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AtomWalker{1}(
    configuration      : FastSystem(H‚ÇÜ, periodicity = FFF)
    energy             : -0.02164674063753841 eV
    iter               : 0
    list_num_par       : [6]
    frozen             : Bool[0]
    energy_frozen_part : 0.0 eV)
</code></pre><p>Define the step size and the energy range.</p><pre><code class="language-julia hljs">step_size = 1.0
energy_min = -1.26
energy_max = 0.0
num_energy_bins = 1000</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1000</code></pre><p>Pass the parameters to the <code>WangLandauParameters</code> object.</p><pre><code class="language-julia hljs">wl_params = WangLandauParameters(num_steps=10_000,
                            energy_min=energy_min,
                            energy_max=energy_max,
                            num_energy_bins=num_energy_bins,
                            step_size=step_size,
                            max_iter=10000,
                            f_min=1.00001)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">WangLandauParameters(10000, 0.8, 2.718281828459045, 1.00001, [-1.26, -1.2587387387387388, -1.2574774774774775, -1.2562162162162163, -1.254954954954955, -1.2536936936936938, -1.2524324324324325, -1.2511711711711713, -1.2499099099099098, -1.2486486486486486  ‚Ä¶  -0.011351351351351352, -0.01009009009009009, -0.008828828828828829, -0.0075675675675675675, -0.006306306306306306, -0.005045045045045045, -0.0037837837837837837, -0.0025225225225225223, -0.0012612612612612612, 0.0], 10000, 1.0, 1234)</code></pre><p>Viola! We can now run the Wang-Landau simulation.</p><pre><code class="language-julia hljs">energies_wl, configs, wl_params, S, H = wang_landau(at, lj, wl_params)</code></pre><h2 id="Lattice-system"><a class="docs-heading-anchor" href="#Lattice-system">Lattice system</a><a id="Lattice-system-1"></a><a class="docs-heading-anchor-permalink" href="#Lattice-system" title="Permalink"></a></h2><p>We can also perform simulations on lattice systems.</p><p>Let&#39;s set up a 2D square lattice with a supercell of dimensions 4x4x1. Make the first four sites occupied.</p><pre><code class="language-julia hljs">initial_lattice = SLattice{SquareLattice}(components=[[1,2,3,4]])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SLattice{SquareLattice}
    lattice_vectors      : [1.0 0.0 0.0; 0.0 1.0 0.0; 0.0 0.0 1.0]
    positions            : 16 grid points
    supercell_dimensions : (4, 4, 1)
    basis                : [(0.0, 0.0, 0.0)]
    periodicity          : (true, true, false)
    cutoff radii         : 2 nearest neighbors cutoffs [1.1, 1.5]
    occupations          : 
      ‚óè ‚óè ‚óè ‚óè 
      ‚óã ‚óã ‚óã ‚óã 
      ‚óã ‚óã ‚óã ‚óã 
      ‚óã ‚óã ‚óã ‚óã 
    adsorptions          : full adsorption
</code></pre><p>Define the Hamiltonian with the adsorption energy and the nearest-neighbor and next-nearest-neighbor energies.</p><pre><code class="language-julia hljs">adsorption_energy = -0.04
nn_energy = -0.01
nnn_energy = -0.0025
h = GenericLatticeHamiltonian(adsorption_energy, [nn_energy, nnn_energy], u&quot;eV&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">GenericLatticeHamiltonian{2,Quantity{Float64, ùêã^2 ùêå ùêì^-2, Unitful.FreeUnits{(eV,), ùêã^2 ùêå ùêì^-2, nothing}}}:
    on_site_interaction:      -0.04 eV
    nth_neighbor_interactions: [-0.01, -0.0025] eV
</code></pre><h3 id="Wang-Landau-Sampling-2"><a class="docs-heading-anchor" href="#Wang-Landau-Sampling-2">Wang-Landau Sampling</a><a class="docs-heading-anchor-permalink" href="#Wang-Landau-Sampling-2" title="Permalink"></a></h3><p>This time, let&#39;s do a Wang-Landau simulation first, as it&#39;s the most straightforward to set up.</p><pre><code class="language-julia hljs">energy_min = 20.5 * nn_energy + nn_energy / 8
energy_max = 16 * nn_energy - nn_energy / 8
num_energy_bins = 100</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">100</code></pre><p>Pass the parameters to the <code>WangLandauParameters</code> object.</p><pre><code class="language-julia hljs">wl_params = WangLandauParameters(
    energy_min=energy_min,
    energy_max=energy_max,
    random_seed=Int(round(time() * 1000)),)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">WangLandauParameters(100, 0.8, 2.718281828459045, 1.00000001, [-0.20625000000000002, -0.20577020202020205, -0.20529040404040405, -0.20481060606060608, -0.20433080808080809, -0.20385101010101012, -0.20337121212121215, -0.20289141414141415, -0.20241161616161618, -0.20193181818181818  ‚Ä¶  -0.16306818181818183, -0.16258838383838384, -0.16210858585858587, -0.16162878787878787, -0.1611489898989899, -0.16066919191919193, -0.16018939393939394, -0.15970959595959597, -0.15922979797979797, -0.15875], 1000, 0.01, 1757537603757)</code></pre><p>Run the Wang-Landau simulation.</p><pre><code class="language-julia hljs">energies_wl, configs, wl_params, S, H = wang_landau(initial_lattice, h, wl_params)</code></pre><h3 id="Metroplis-Monte-Carlo"><a class="docs-heading-anchor" href="#Metroplis-Monte-Carlo">Metroplis Monte Carlo</a><a id="Metroplis-Monte-Carlo-1"></a><a class="docs-heading-anchor-permalink" href="#Metroplis-Monte-Carlo" title="Permalink"></a></h3><p>Let&#39;s make a Metropolis Monte Carlo simulation on the same lattice system.</p><pre><code class="language-julia hljs">mc_lattice = deepcopy(initial_lattice)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SLattice{SquareLattice}
    lattice_vectors      : [1.0 0.0 0.0; 0.0 1.0 0.0; 0.0 0.0 1.0]
    positions            : 16 grid points
    supercell_dimensions : (4, 4, 1)
    basis                : [(0.0, 0.0, 0.0)]
    periodicity          : (true, true, false)
    cutoff radii         : 2 nearest neighbors cutoffs [1.1, 1.5]
    occupations          : 
      ‚óè ‚óè ‚óè ‚óè 
      ‚óã ‚óã ‚óã ‚óã 
      ‚óã ‚óã ‚óã ‚óã 
      ‚óã ‚óã ‚óã ‚óã 
    adsorptions          : full adsorption
</code></pre><p>Define the temperature grid, the number of equilibration steps, and the number of sampling steps.</p><pre><code class="language-julia hljs">temperatures = collect(200.0:-10:10)  # 200:-1:1
num_equilibration_steps = 25_000
num_sampling_steps = 25_000</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">25000</code></pre><p>Pass the parameters to the <code>MetropolisMCParameters</code> object.</p><pre><code class="language-julia hljs">mc_params = MetropolisMCParameters(
    temperatures,
    equilibrium_steps=num_equilibration_steps,
    sampling_steps=num_sampling_steps,
    random_seed=Int(round(time()))
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MetropolisMCParameters([200.0, 190.0, 180.0, 170.0, 160.0, 150.0, 140.0, 130.0, 120.0, 110.0, 100.0, 90.0, 80.0, 70.0, 60.0, 50.0, 40.0, 30.0, 20.0, 10.0], 25000, 25000, 0.01, 0.001, 1.0, (0.25, 0.75), 1757537604)</code></pre><p>Run the Monte Carlo simulation.</p><pre><code class="language-julia hljs">mc_energies, mc_configs, mc_cvs, acceptance_rates = monte_carlo_sampling(mc_lattice, h, mc_params)</code></pre><h3 id="Nested-Sampling-2"><a class="docs-heading-anchor" href="#Nested-Sampling-2">Nested Sampling</a><a class="docs-heading-anchor-permalink" href="#Nested-Sampling-2" title="Permalink"></a></h3><p>Finally, let&#39;s set up a nested sampling simulation. It&#39;s a bit more complicated than the previous two, and nested sampling is not the optimal method for lattice systems with many degenerate states.</p><p>Let&#39;s use the Distributions.jl package to generate the random initial configurations.</p><pre><code class="language-julia hljs">using Distributions</code></pre><p>Make 1000 copies of the initial lattice.</p><pre><code class="language-julia hljs">walkers = [deepcopy(initial_lattice) for i in 1:1000]</code></pre><p>Now using the <code>sample</code> function from the Distributions.jl package, we can randomly select 4 sites to be occupied.</p><pre><code class="language-julia hljs">for walker in walkers
    walker.components[1] = [false for i in 1:length(walker.components[1])]
    for i in sample(1:length(walker.components[1]), 4, replace=false)
        walker.components[1][i] = true
    end
end</code></pre><p>Warp the walkers into <code>LatticeWalker</code> objects.</p><pre><code class="language-julia hljs">walkers = [LatticeWalker(walker) for walker in walkers]</code></pre><p>Again, we use the same Hamiltonian as before. We then create a <code>LatticeGasWalkers</code> object that contains the walkers and the Hamiltonian.</p><pre><code class="language-julia hljs">ls = LatticeGasWalkers(walkers, h)</code></pre><p>The rejection routine for nested sampling is the best choice for lattice systems.</p><pre><code class="language-julia hljs">mc = MCRejectionSampling()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MCRejectionSampling()</code></pre><p>We then set up a <code>LatticeNestedSamplingParameters</code> object with the desired parameters. We will use the same parameters as before, but we will set the number of Monte Carlo steps to 100. We will also set the allowed fail count to 1<em>000</em>000, which is a bit high to make sure we explore the configuration space. We will also set the random seed to a random number.</p><pre><code class="language-julia hljs">ns_params = LatticeNestedSamplingParameters(mc_steps=100,allowed_fail_count=1_000_000,random_seed=Int(floor(1234*rand())))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">NestedSamplingParameters(100, 0.01, 0.1, 1.0e-6, 1.0, (0.25, 0.75), 0, 1000000, 1.0e-12, 561)</code></pre><p>Redefine the output file name.</p><pre><code class="language-julia hljs">save = SaveEveryN(df_filename=&quot;output_ns_lattice2d.csv&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SaveEveryN(&quot;output_ns_lattice2d.csv&quot;, &quot;output.traj.extxyz&quot;, &quot;output.ls.extxyz&quot;, 100, 1000, 1)</code></pre><p>And finally, we can run the nested sampling simulation</p><pre><code class="language-julia hljs">ns_energies, ls, _ = nested_sampling(ls, ns_params, 10_000, mc, save) # src</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorials/">¬´ Tutorials</a><a class="docs-footer-nextpage" href="../AbstractLiveSets/"><code>AbstractLiveSets</code> ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 10 September 2025 20:54">Wednesday 10 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
